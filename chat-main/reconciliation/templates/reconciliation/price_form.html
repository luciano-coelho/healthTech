{% extends 'base.html' %}

{% block main %}
<div class="container mt-4">
  <h3>{{ title }}</h3>

  <form method="post" class="mt-3">
    {% csrf_token %}
    <div class="row g-3">
      <div class="col-md-6">
        <label for="{{ form.catalog.id_for_label }}" class="form-label">{{ form.catalog.label }}</label>
        {{ form.catalog }}
        {% for error in form.catalog.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-3">
        <label for="{{ form.codigo.id_for_label }}" class="form-label">{{ form.codigo.label }}</label>
        {{ form.codigo }}
        {% for error in form.codigo.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-3">
        <label for="{{ form.codigo_original.id_for_label }}" class="form-label">{{ form.codigo_original.label }}</label>
        {{ form.codigo_original }}
        {% for error in form.codigo_original.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-6">
        <label for="{{ form.descricao.id_for_label }}" class="form-label">{{ form.descricao.label }}</label>
        {{ form.descricao }}
        {% for error in form.descricao.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-6">
        <label for="{{ form.convenio.id_for_label }}" class="form-label">{{ form.convenio.label }}</label>
        {{ form.convenio }}
        {% for error in form.convenio.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-6">
        <label for="{{ form.hospital_cnpj.id_for_label }}" class="form-label">{{ form.hospital_cnpj.label }}</label>
        {{ form.hospital_cnpj }}
        <div class="form-text">CNPJ normalizado (somente dígitos)</div>
        {% for error in form.hospital_cnpj.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-6">
        <label for="{{ form.hospital_nome.id_for_label }}" class="form-label">{{ form.hospital_nome.label }}</label>
        {{ form.hospital_nome }}
        {% for error in form.hospital_nome.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-6">
        <label for="{{ form.categoria.id_for_label }}" class="form-label">{{ form.categoria.label }}</label>
        {{ form.categoria }}
        {% for error in form.categoria.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-6">
        <label for="{{ form.funcao.id_for_label }}" class="form-label">{{ form.funcao.label }}</label>
        {{ form.funcao }}
        {% for error in form.funcao.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-4">
        <label for="{{ form.preco_referencia.id_for_label }}" class="form-label">{{ form.preco_referencia.label }}</label>
        {{ form.preco_referencia }}
        <div class="form-text">Use vírgula para decimais (ex: 2.403,00)</div>
        {% for error in form.preco_referencia.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-4">
        <label for="{{ form.vigencia_inicio.id_for_label }}" class="form-label">{{ form.vigencia_inicio.label }}</label>
        {{ form.vigencia_inicio }}
        {% for error in form.vigencia_inicio.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-md-4">
        <label for="{{ form.vigencia_fim.id_for_label }}" class="form-label">{{ form.vigencia_fim.label }}</label>
        {{ form.vigencia_fim }}
        {% for error in form.vigencia_fim.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="col-12">
        <div class="form-check">
          {{ form.ativo }}
          <label class="form-check-label" for="{{ form.ativo.id_for_label }}">
            {{ form.ativo.label }}
          </label>
        </div>
        {% for error in form.ativo.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>
    </div>
    
    <div class="mt-3 d-flex gap-2">
      <button type="submit" class="btn btn-primary">Salvar</button>
      <a href="{% url 'prices_list' %}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
</div>

<style>
  .form-control, .form-select {
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 8px 12px;
  }
  .form-control:focus, .form-select:focus {
    border-color: #0D47A1;
    box-shadow: 0 0 0 0.2rem rgba(13, 71, 161, 0.25);
  }
</style>
{% endblock %}
